(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{118:function(t,e,n){t.exports={form:"ContactForm_form__2mIxS",label:"ContactForm_label__3sE2s",input:"ContactForm_input__gAaMH",button:"ContactForm_button__6407v"}},119:function(t,e,n){t.exports={container:"Toast_container__1N98z",message:"Toast_message__Gcgl4"}},120:function(t,e,n){t.exports={input:"filter_input__CXIC-"}},121:function(t,e,n){t.exports={list:"contactList_list__Mpwi6",listItem:"contactList_listItem__27oER",button:"contactList_button__3Y2Ky",appear:"contactList_appear__2JNm6",appearActive:"contactList_appearActive__1qzUv",enter:"contactList_enter__1WtGi",enterActive:"contactList_enterActive__3JFlv",exit:"contactList_exit__2nFCa",exitActive:"contactList_exitActive__1IXFy"}},122:function(t,e,n){t.exports={App:"Phonebook_App__3xmLf",Container:"Phonebook_Container__JC2rs"}},127:function(t,e,n){"use strict";n.r(e);var a=n(37),c=n(38),o=n(40),r=n(39),s=n(0),i=n(10),u=n(27),l=function(t){return t.contacts.items},b=function(t){return t.contacts.filter},m={getLoading:function(t){return t.contacts.loading},getAllContacts:l,getFilter:b,getVisibleContacts:Object(u.a)([l,b],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},j=n(19),h=n.n(j),f=n(11);h.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var p={fetchContacts:function(){return function(t){t(Object(f.i)()),h.a.get("/contacts").then((function(e){var n=e.data;return t(Object(f.j)(n))})).catch((function(e){return t(Object(f.h)(e.message))}))}},addContact:function(t,e){return function(n){var a={name:t,number:e};n(Object(f.b)()),h.a.post("/contacts",a).then((function(t){var e=t.data;return n(Object(f.c)(e))})).catch((function(t){return n(Object(f.a)(t.message))}))}},deleteContact:function(t){return function(e){e(Object(f.f)()),h.a.delete("/contacts/".concat(t)).then((function(){return e(Object(f.g)(t))})).catch((function(t){return e(Object(f.e)(t.message))}))}}},d=n(3),O=n(118),_=n.n(O),v=n(119),x=n.n(v),g=n(21),C=n(1);var N=function(t){var e=t.message;return Object(g.createPortal)(Object(C.jsx)("div",{className:x.a.container,children:Object(C.jsx)("p",{className:x.a.message,children:e})}),document.querySelector("#toast"))},y=n(128),A=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){var t;Object(a.a)(this,n);for(var c=arguments.length,o=new Array(c),r=0;r<c;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={name:"",number:"",haveError:!1},t.handleChange=function(e){t.setState(Object(d.a)({},e.target.name,e.target.value))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number;if(""!==a&&""!==c){if(t.props.contacts.find((function(t){return t.name===a})))return t.showToast("".concat(a," is already in contacts")),void t.setState({name:"",number:""});t.props.onAddContact(a,c),t.setState({name:"",number:""})}else t.showToast("Name or number can't be empty string")},t.showToast=function(e){t.setState((function(t){return{haveError:!t.haveError,errorMessage:e}})),setTimeout((function(){t.setState((function(t){return{haveError:!t.haveError}}))}),1500)},t}return Object(c.a)(n,[{key:"render",value:function(){var t=this.state,e=t.errorMessage,n=t.haveError;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(y.a,{in:n,timeout:250,classNames:"toast",unmountOnExit:!0,children:Object(C.jsx)(N,{message:e})}),Object(C.jsxs)("form",{onSubmit:this.handleSubmit,className:_.a.form,children:[Object(C.jsxs)("label",{className:_.a.label,children:["Name",Object(C.jsx)("input",{className:_.a.input,type:"text",name:"name",value:this.state.name,onChange:this.handleChange})]}),Object(C.jsxs)("label",{className:_.a.label,children:["Number",Object(C.jsx)("input",{className:_.a.input,type:"text",name:"number",value:this.state.number,onChange:this.handleChange})]}),Object(C.jsx)("button",{type:"submit",className:_.a.button,children:"Add contact"})]})]})}}]),n}(s.Component),L=Object(i.b)((function(t){return{contacts:m.getAllContacts(t)}}),(function(t){return{onAddContact:function(e,n){return t(p.addContact(e,n))}}}))(A),k=n(120),F=n.n(k);var w=Object(i.b)((function(t){return{value:m.getFilter(t),items:m.getAllContacts(t)}}),(function(t){return{onChangeFilter:function(e){return t(Object(f.d)(e.target.value))}}}))((function(t){var e=t.value,n=void 0===e?"":e,a=t.onChangeFilter,c=t.items;return Object(C.jsx)(y.a,{in:c.length>0,timeout:500,classNames:"filter",unmountOnExit:!0,children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:"Find contact by name"}),Object(C.jsx)("input",{className:F.a.input,type:"text",value:n,onChange:a})]})})})),E=n(121),S=n.n(E),I=n(129);var T=Object(i.b)((function(t){return{contacts:m.getVisibleContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(p.deleteContact(e))}}}))((function(t){var e=t.contacts,n=t.onDeleteContact;return Object(C.jsx)(I.a,{component:"ul",className:S.a.list,children:0===e.length?Object(C.jsx)(y.a,{timeout:700,classNames:"message-empty",unmountOnExit:!0,children:Object(C.jsx)("li",{children:"Contact list empty for now"})},1):e.map((function(t){var e=t.name,a=t.number,c=t.id;return Object(C.jsx)(y.a,{appear:!0,timeout:250,classNames:S.a,children:Object(C.jsxs)("li",{className:S.a.listItem,children:[Object(C.jsxs)("span",{children:[e,": ",a]}),Object(C.jsx)("button",{type:"button",className:S.a.button,onClick:function(){return n(c)},children:"Delete contact"})]})},c)}))})})),D=n(51),J=n(122),M=n.n(J),P=function(t){Object(o.a)(n,t);var e=Object(r.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:M.a.App,children:[this.props.isLoading&&Object(C.jsx)(D.a,{}),Object(C.jsxs)("div",{className:M.a.Container,children:[Object(C.jsx)(y.a,{in:!0,appear:!0,timeout:500,classNames:"title",unmountOnExit:!0,children:Object(C.jsx)("h1",{children:"Phonebook"})}),Object(C.jsx)(L,{}),Object(C.jsx)("h1",{children:"Contacts"}),Object(C.jsx)(w,{}),Object(C.jsx)(T,{})]})]})}}]),n}(s.Component);e.default=Object(i.b)((function(t){return{isLoading:m.getLoading(t)}}),(function(t){return{fetchContacts:function(){return t(p.fetchContacts())}}}))(P)}}]);
//# sourceMappingURL=3.cede43cc.chunk.js.map