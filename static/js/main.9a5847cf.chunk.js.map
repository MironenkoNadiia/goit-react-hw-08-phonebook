{"version":3,"sources":["redux/phonebook/phonebook-actions.js","redux/phonebook/phonebook-reducer.js","redux/Auth/auth-reducer.js","redux/store.js","redux/Auth/auth-selectors.js","components/Navigation/Navigation.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/PublicRoute.js","components/PrivateRoute.js","App.js","index.js","components/Navigation/Navigation.module.css","components/AuthNav/AuthNav.module.css","redux/Auth/auth-operations.js","components/UserMenu/UserMenu.module.css","components/Loader/Loader.module.css","redux/Auth/auth-actions.js","components/Loader/Loader.js","components/AppBar/AppBar.module.css"],"names":["fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","items","createReducer","_","payload","state","filter","id","loading","combineReducers","initialUserState","name","email","user","authActions","userRegistrationSuccess","userLoginSuccess","userLogoutSuccess","currentUserSuccess","isLogedIn","currentUserError","userRegistrationError","userLoginError","token","error","userLogoutError","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","phonebookReducer","devTools","process","expordStore","persistor","persistStore","exportSelectors","getIsLogedIn","getUserName","connect","authSelectors","exact","to","className","s","link","activeClassName","activeLink","mapDispatchToProps","onLogout","authOperations","userLogout","container","type","onClick","AuthNav","header","isAuthenticated","Component","component","redirectTo","routeProps","render","props","restricted","HomePage","lazy","LoginPage","Phonebook","RegisterPage","App","this","onGetCurrentUser","fallback","path","getCurrentUser","ReactDOM","StrictMode","document","getElementById","module","exports","axios","defaults","baseURL","headers","common","Authorization","exportedOperations","registrationUser","registerData","dispatch","a","userRegistrationRequest","post","data","message","loginUser","loginData","userLoginRequest","userLogoutRequest","getState","currentUserRequest","get","exportedActions","Loading","createPortal","wrapper","inner","color","height","width","querySelector"],"mappings":"+IAAA,+VAEaA,EAAuBC,YAClC,kCAEWC,EAAuBD,YAClC,kCAEWE,EAAqBF,YAAa,gCAElCG,EAAoBH,YAAa,+BACjCI,EAAoBJ,YAAa,+BACjCK,EAAkBL,YAAa,6BAE/BM,EAAuBN,YAClC,kCAEWO,EAAuBP,YAClC,kCAEWQ,EAAqBR,YAAa,gCAElCS,EAAeT,YAAa,2B,+KCRnCU,EAAQC,YAAc,IAAD,mBACxBV,KAAuB,SAACW,EAAD,YAAMC,WADL,cAExBT,KAAoB,SAACU,EAAD,YAAUD,SAAV,mBAAqCC,OAFjC,cAGxBP,KAAuB,SAACO,EAAD,OAAUD,EAAV,EAAUA,QAAV,OACtBC,EAAMC,QAAO,qBAAGC,KAAgBH,QAJT,IAOrBE,EAASJ,YAAc,GAAD,eACzBF,KAAe,SAACG,EAAD,YAAMC,YAGlBI,EAAUN,aAAc,GAAD,mBAC1BZ,KAAuB,kBAAM,KADH,cAE1BE,KAAuB,kBAAM,KAFH,cAG1BC,KAAqB,kBAAM,KAHD,cAI1BC,KAAoB,kBAAM,KAJA,cAK1BC,KAAoB,kBAAM,KALA,cAM1BC,KAAkB,kBAAM,KANE,cAO1BC,KAAuB,kBAAM,KAPH,cAQ1BC,KAAuB,kBAAM,KARH,cAS1BC,KAAqB,kBAAM,KATD,IAYdU,cAAgB,CAC7BR,QACAK,SACAE,Y,OCpCIE,EAAmB,CAAEC,KAAM,KAAMC,MAAO,MACxCC,EAAOX,YAAcQ,GAAD,iBAAC,EACxBI,IAAYC,yBAA0B,SAACV,EAAD,YAAUD,QAAsBS,QAD/C,YAAC,EAExBC,IAAYE,kBAAmB,SAACX,EAAD,YAAUD,QAAsBS,QAFxC,YAAC,EAGxBC,IAAYG,mBAAoB,kBAAMP,KAHf,YAAC,EAIxBI,IAAYI,oBAAqB,SAACb,EAAD,YAAUD,WAJpB,IAOpBe,EAAYjB,aAAc,GAAD,mBAC5BY,IAAYC,yBAA0B,kBAAM,KADhB,cAE5BD,IAAYE,kBAAmB,kBAAM,KAFT,cAG5BF,IAAYI,oBAAqB,kBAAM,KAHX,cAI5BJ,IAAYM,kBAAmB,kBAAM,KAJT,cAK5BN,IAAYG,mBAAoB,kBAAM,KALV,cAM5BH,IAAYO,uBAAwB,kBAAM,KANd,cAO5BP,IAAYQ,gBAAiB,kBAAM,KAPP,IAUzBC,EAAQrB,YAAc,MAAD,iBAAC,EACzBY,IAAYC,yBAA0B,SAACZ,EAAD,YAAMC,QAAsBmB,SAD1C,YAAC,EAEzBT,IAAYE,kBAAmB,SAACb,EAAD,YAAMC,QAAsBmB,SAFnC,YAAC,EAGzBT,IAAYG,mBAAoB,kBAAM,QAHd,IAMrBO,EAAQtB,YAAc,MAAD,mBACxBY,IAAYO,uBAAwB,SAAClB,EAAD,YAAMC,WADlB,cAExBU,IAAYQ,gBAAiB,SAACnB,EAAD,YAAMC,WAFX,cAGxBU,IAAYW,iBAAkB,SAACtB,EAAD,YAAMC,WAHZ,cAIxBU,IAAYM,kBAAmB,SAACjB,EAAD,YAAMC,WAJb,IAOZK,cAAgB,CAC7BI,OACAM,YACAI,QACAC,UCxBIE,EAAU,YACXC,YAAqB,CACtBC,kBAAmB,CACjBC,eAAgB,CAACC,IAAOC,IAAWC,IAAOC,IAASC,IAAOC,SAK1DC,EAAoB,CACxBC,IAAK,OACLC,YACAC,UAAW,CAAC,UAGRC,EAAQC,YAAe,CAC3BC,QAAS,CACPC,KAAMC,YAAeR,EAAmBS,GACxCC,SAAUC,GAEZrB,aACAsB,UAAUC,IAOGC,EAFK,CAAEV,QAAOW,UAFXC,YAAaZ,I,uCChCfa,EAFQ,CAAEC,aAJL,SAACjD,GAAD,OAAWA,EAAMsC,KAAKxB,WAIHoC,YAFpB,SAAClD,GAAD,OAAWA,EAAMsC,KAAK9B,KAAKF,O,wBC8BhC6C,eANS,SAACnD,GAAD,MAAY,CAClCc,UAAWsC,EAAcH,aAAajD,MAGb,GAEZmD,EA1BW,SAAC,GAAmB,IAAjBrC,EAAgB,EAAhBA,UAC3B,OACE,gCACE,cAAC,IAAD,CAASuC,OAAK,EAACC,GAAG,IAAIC,UAAWC,IAAEC,KAAMC,gBAAiBF,IAAEG,WAA5D,kBAGC7C,GACC,cAAC,IAAD,CACEuC,OAAK,EACLC,GAAG,aACHC,UAAWC,IAAEC,KACbC,gBAAiBF,IAAEG,WAJrB,6B,yBCMFC,EAAqB,CACzBC,SAAUC,IAAeC,YAGZZ,eARS,SAACnD,GAAD,MAAY,CAClCM,KAAM8C,EAAcF,YAAYlD,MAOM4D,EAAzBT,EAjBE,SAAC,GAAD,IAAG7C,EAAH,EAAGA,KAAMuD,EAAT,EAASA,SAAT,OACf,sBAAKN,UAAWC,IAAEQ,UAAlB,UACE,uBAAMT,UAAWC,IAAElD,KAAnB,sBAAmCA,KACnC,wBAAQ2D,KAAK,SAASC,QAASL,EAA/B,0B,oBCkBWM,GAvBQ,WACrB,OACE,gCACE,cAAC,IAAD,CACEd,OAAK,EACLC,GAAG,gBACHC,UAAWC,KAAEC,KACbC,gBAAiBF,KAAEG,WAJrB,0BAQA,cAAC,IAAD,CACEN,OAAK,EACLC,GAAG,SACHC,UAAWC,KAAEC,KACbC,gBAAiBF,KAAEG,WAJrB,uB,oBCQSR,gBANS,SAACnD,GAAD,MAAY,CAClCc,UAAWsC,EAAcH,aAAajD,MAGb,GAEZmD,EAfA,SAAC,GAAmB,IAAjBrC,EAAgB,EAAhBA,UAChB,OACE,yBAAQyC,UAAWC,KAAEY,OAArB,UACE,cAAC,EAAD,IACCtD,EAAY,cAAC,EAAD,IAAe,cAAC,GAAD,U,kBCgBnBqC,gBAJS,SAACnD,GAAD,MAAY,CAClCqE,gBAAiBjB,EAAcH,aAAajD,MAG/BmD,EAtBK,SAAC,GAAD,IACPmB,EADO,EAClBC,UACAF,EAFkB,EAElBA,gBACAG,EAHkB,EAGlBA,WACGC,EAJe,oEAMlB,cAAC,IAAD,6BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,OACNN,GAAmBI,EAAWG,WAC5B,cAAC,IAAD,CAAUtB,GAAIkB,IAEd,cAACF,EAAD,gBAAeK,WCKRxB,gBAJS,SAACnD,GAAD,MAAY,CAClCqE,gBAAiBjB,EAAcH,aAAajD,MAG/BmD,EAlBM,SAAC,GAAD,IACRmB,EADQ,EACnBC,UACAF,EAFmB,EAEnBA,gBACAG,EAHmB,EAGnBA,WACGC,EAJgB,oEAMnB,cAAC,IAAD,6BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,OACNN,EAAkB,cAACC,EAAD,gBAAeK,IAAY,cAAC,IAAD,CAAUrB,GAAIkB,W,SCL3DK,GAAWC,gBAAK,kBAAM,iCACtBC,GAAYD,gBAAK,kBAAM,iCACvBE,GAAYF,gBAAK,kBAAM,uDACvBG,GAAeH,gBAAK,kBACxB,iCAGII,G,uKACJ,WACEC,KAAKR,MAAMS,qB,oBAGb,WACE,OACE,gCACE,cAAC,GAAD,IACA,cAAC,WAAD,CAAUC,SAAU,cAAC,KAAD,IAApB,SACE,eAAC,IAAD,WACE,cAAC,GAAD,CAAahC,OAAK,EAACiC,KAAK,IAAIf,UAAWM,KACvC,cAAC,GAAD,CACES,KAAK,SACLV,YAAU,EACVJ,WAAW,aACXD,UAAWQ,KAEb,cAAC,GAAD,CACEO,KAAK,gBACLV,YAAU,EACVJ,WAAW,aACXD,UAAWU,KAEb,cAAC,GAAD,CACEK,KAAK,aACLd,WAAW,SACXD,UAAWS,KAEb,cAAC,IAAD,CAAU1B,GAAG,kB,GA7BPgB,aAqCZV,GAAqB,CACzBwB,iBAAkBtB,IAAeyB,gBAGpBpC,eAAQ,KAAMS,GAAdT,CAAkC+B,ICjDjDM,IAASd,OACP,cAAC,IAAMe,WAAP,UACE,cAAC,IAAD,CAAUtD,MAAOA,EAAMA,MAAvB,SACE,cAAC,IAAD,CAAahC,QAAS,KAAM2C,UAAWX,EAAMW,UAA7C,SACE,cAAC,IAAD,UACE,cAAC,GAAD,YAKR4C,SAASC,eAAe,U,mBCjB1BC,EAAOC,QAAU,CAAC,KAAO,yBAAyB,WAAa,iC,mBCA/DD,EAAOC,QAAU,CAAC,KAAO,sBAAsB,WAAa,8B,qFCE5DC,IAAMC,SAASC,QAAU,2CAEzB,IAAM9E,EAAQ,SACRA,GACF4E,IAAMC,SAASE,QAAQC,OAAOC,cAA9B,iBAAwDjF,IAFtDA,EAAQ,WAKV4E,IAAMC,SAASE,QAAQC,OAAOC,cAAgB,IA4D5CC,EAAqB,CACzBC,iBAzDuB,SAACC,GAAD,8CAAkB,WAAOC,GAAP,iBAAAC,EAAA,6DACzCD,EAAS9F,IAAYgG,2BADoB,kBAGhBX,IAAMY,KAAK,gBAAiBJ,GAHZ,gBAG/BK,EAH+B,EAG/BA,KAERzF,EAAUyF,EAAKzF,OACfqF,EAAS9F,IAAYC,wBAAwBiG,IANN,kDAQvCJ,EAAS9F,IAAYO,sBAAsB,KAAM4F,UARV,0DAAlB,uDA0DvBC,UA9CgB,SAACC,GAAD,8CAAe,WAAOP,GAAP,iBAAAC,EAAA,6DAC/BD,EAAS9F,IAAYsG,oBADU,kBAGNjB,IAAMY,KAAK,eAAgBI,GAHrB,gBAGrBH,EAHqB,EAGrBA,KAERzF,EAAUyF,EAAKzF,OAEfqF,EAAS9F,IAAYE,iBAAiBgG,IAPT,kDAS7BJ,EAAS9F,IAAYQ,eAAe,KAAM2F,UATb,0DAAf,uDA+ChB7C,WAlCiB,yDAAM,WAAOwC,GAAP,SAAAC,EAAA,6DACvBD,EAAS9F,IAAYuG,qBADE,kBAGflB,IAAMY,KAAK,iBAHI,OAKrBxF,IAEAqF,EAAS9F,IAAYG,qBAPA,gDASrB2F,EAAS9F,IAAYW,gBAAgB,KAAMwF,UATtB,yDAAN,uDAmCjBrB,eAtBqB,yDAAM,WAAOgB,EAAUU,GAAjB,qBAAAT,EAAA,2DACVS,KAAT3E,EADmB,EACnBA,MACEpB,MAFiB,wDAM3BA,EAAUoB,EAAKpB,OAEfqF,EAAS9F,IAAYyG,sBARM,kBAUFpB,IAAMqB,IAAI,kBAVR,gBAUjBR,EAViB,EAUjBA,KAERJ,EAAS9F,IAAYI,mBAAmB8F,IAZf,kDAczBJ,EAAS9F,IAAYM,iBAAiB,KAAM6F,UAdnB,0DAAN,0DAyBRR,O,mBC5EfR,EAAOC,QAAU,CAAC,UAAY,4BAA4B,KAAO,yB,mBCAjED,EAAOC,QAAU,CAAC,QAAU,0B,+BCD5B,WAkBMuB,EAAkB,CACtBX,wBAjB8BvH,YAAa,gCAkB3CwB,wBAjB8BxB,YAAa,gCAkB3C8B,sBAjB4B9B,YAAa,+BAkBzC6H,iBAhBuB7H,YAAa,yBAiBpCyB,iBAhBuBzB,YAAa,yBAiBpC+B,eAhBqB/B,YAAa,wBAiBlC8H,kBAfwB9H,YAAa,0BAgBrC0B,kBAfwB1B,YAAa,0BAgBrCkC,gBAfsBlC,YAAa,yBAgBnCgI,mBAdyBhI,YAAa,2BAetC2B,mBAdyB3B,YAAa,2BAetC6B,iBAduB7B,YAAa,0BAgBvBkI,O,gCChCf,mEAiBeC,IAXf,SAAiB1C,GACf,OAAO2C,uBACL,qBAAK/D,UAAWC,IAAE+D,QAAlB,SACE,qBAAKhE,UAAWC,IAAEgE,MAAlB,SACE,cAAC,IAAD,CAAQvD,KAAK,YAAYwD,MAAM,UAAUC,OAAQ,IAAKC,MAAO,UAGjEjC,SAASkC,cAAc,a,mBCZ3BhC,EAAOC,QAAU,CAAC,OAAS,0B","file":"static/js/main.9a5847cf.chunk.js","sourcesContent":["import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const fetchContactsRequest = createAction(\r\n  \"phonebook/fetchContactsRequest\"\r\n);\r\nexport const fetchContactsSuccess = createAction(\r\n  \"phonebook/fetchContactsSuccess\"\r\n);\r\nexport const fetchContactsError = createAction(\"phonebook/fetchContactsError\");\r\n\r\nexport const addContactRequest = createAction(\"phonebook/addContactRequest\");\r\nexport const addContactSuccess = createAction(\"phonebook/addContactSuccess\");\r\nexport const addContactError = createAction(\"phonebook/addContactError\");\r\n\r\nexport const deleteContactRequest = createAction(\r\n  \"phonebook/deleteContactRequest\"\r\n);\r\nexport const deleteContactSuccess = createAction(\r\n  \"phonebook/deleteContactSuccess\"\r\n);\r\nexport const deleteContactError = createAction(\"phonebook/deleteContactError\");\r\n\r\nexport const changeFilter = createAction(\"phonebook/changeFilter\");\r\n","import { createReducer, combineReducers } from \"@reduxjs/toolkit\";\r\nimport {\r\n  changeFilter,\r\n  addContactSuccess,\r\n  deleteContactSuccess,\r\n  fetchContactsSuccess,\r\n  addContactRequest,\r\n  deleteContactRequest,\r\n  fetchContactsRequest,\r\n  addContactError,\r\n  deleteContactError,\r\n  fetchContactsError,\r\n} from \"./phonebook-actions\";\r\n\r\nconst items = createReducer([], {\r\n  [fetchContactsSuccess]: (_, { payload }) => payload,\r\n  [addContactSuccess]: (state, { payload }) => [payload, ...state],\r\n  [deleteContactSuccess]: (state, { payload }) =>\r\n    state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nconst loading = createReducer(false, {\r\n  [fetchContactsRequest]: () => true,\r\n  [fetchContactsSuccess]: () => false,\r\n  [fetchContactsError]: () => false,\r\n  [addContactRequest]: () => true,\r\n  [addContactSuccess]: () => false,\r\n  [addContactError]: () => false,\r\n  [deleteContactRequest]: () => true,\r\n  [deleteContactSuccess]: () => false,\r\n  [deleteContactError]: () => false,\r\n});\r\n\r\nexport default combineReducers({\r\n  items,\r\n  filter,\r\n  loading,\r\n});\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport authActions from \"./auth-actions\";\r\n\r\nconst initialUserState = { name: null, email: null };\r\nconst user = createReducer(initialUserState, {\r\n  [authActions.userRegistrationSuccess]: (state, { payload }) => payload.user,\r\n  [authActions.userLoginSuccess]: (state, { payload }) => payload.user,\r\n  [authActions.userLogoutSuccess]: () => initialUserState,\r\n  [authActions.currentUserSuccess]: (state, { payload }) => payload,\r\n});\r\n\r\nconst isLogedIn = createReducer(false, {\r\n  [authActions.userRegistrationSuccess]: () => true,\r\n  [authActions.userLoginSuccess]: () => true,\r\n  [authActions.currentUserSuccess]: () => true,\r\n  [authActions.currentUserError]: () => false,\r\n  [authActions.userLogoutSuccess]: () => false,\r\n  [authActions.userRegistrationError]: () => false,\r\n  [authActions.userLoginError]: () => false,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n  [authActions.userRegistrationSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.userLoginSuccess]: (_, { payload }) => payload.token,\r\n  [authActions.userLogoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n  [authActions.userRegistrationError]: (_, { payload }) => payload,\r\n  [authActions.userLoginError]: (_, { payload }) => payload,\r\n  [authActions.userLogoutError]: (_, { payload }) => payload,\r\n  [authActions.currentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  user,\r\n  isLogedIn,\r\n  token,\r\n  error,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport phonebookReducer from \"./phonebook/phonebook-reducer\";\r\nimport authReducer from \"./Auth/auth-reducer\";\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: \"auth\",\r\n  storage,\r\n  whitelist: [\"token\"],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: phonebookReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === \"development\",\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nconst expordStore = { store, persistor };\r\n\r\nexport default expordStore;\r\n","const getIsLogedIn = (state) => state.auth.isLogedIn;\r\n\r\nconst getUserName = (state) => state.auth.user.name;\r\n\r\nconst exportSelectors = { getIsLogedIn, getUserName };\r\n\r\nexport default  exportSelectors;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport authSelectors from \"../../redux/Auth/auth-selectors\";\r\nimport s from \"./Navigation.module.css\";\r\n\r\nexport const Navigation = ({ isLogedIn }) => {\r\n  return (\r\n    <nav>\r\n      <NavLink exact to=\"/\" className={s.link} activeClassName={s.activeLink}>\r\n        Home\r\n      </NavLink>\r\n      {isLogedIn && (\r\n        <NavLink\r\n          exact\r\n          to=\"/phonebook\"\r\n          className={s.link}\r\n          activeClassName={s.activeLink}\r\n        >\r\n          Phonebook\r\n        </NavLink>\r\n      )}\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLogedIn: authSelectors.getIsLogedIn(state),\r\n});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport authSelectors from \"../../redux/Auth/auth-selectors\";\r\nimport authOperations from \"../../redux/Auth/auth-operations\";\r\nimport s from \"./UserMenu.module.css\";\r\n\r\nconst UserMenu = ({ name, onLogout }) => (\r\n  <div className={s.container}>\r\n    <span className={s.name}>Welcome, {name}</span>\r\n    <button type=\"button\" onClick={onLogout}>\r\n      Logout\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  name: authSelectors.getUserName(state),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.userLogout,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from \"./AuthNav.module.css\";\r\n\r\nexport const AuthNav = () => {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        exact\r\n        to=\"/registration\"\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n      <NavLink\r\n        exact\r\n        to=\"/login\"\r\n        className={s.link}\r\n        activeClassName={s.activeLink}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AuthNav;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport UserMenu from \"../UserMenu/UserMenu\";\r\nimport AuthNav from \"../AuthNav/AuthNav\";\r\nimport authSelectors  from \"../../redux/Auth/auth-selectors\";\r\nimport s from \"./AppBar.module.css\";\r\n\r\nconst AppBar = ({ isLogedIn }) => {\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isLogedIn ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLogedIn: authSelectors.getIsLogedIn(state),\r\n});\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppBar);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport authSelectors from \"../redux/Auth/auth-selectors\";\r\n\r\n\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsLogedIn(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport authSelectors from \"../redux/Auth/auth-selectors\";\r\n\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={(props) =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: authSelectors.getIsLogedIn(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);\r\n","import React, { Component, lazy, Suspense } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Redirect, Switch } from \"react-router-dom\";\nimport AppBar from \"./components/AppBar/AppBar\";\nimport authOperations from \"./redux/Auth/auth-operations\";\nimport PublicRoute from \"./components/PublicRoute\";\nimport PrivateRoute from \"./components/PrivateRoute\";\nimport Loading from \"./components/Loader/Loader\";\n\nconst HomePage = lazy(() => import(\"./views/Home-page/HomePage\"));\nconst LoginPage = lazy(() => import(\"./views/Login-page/LoginPage\"));\nconst Phonebook = lazy(() => import(\"./views/Phonebook-page/PhonebookPage.js\"));\nconst RegisterPage = lazy(() =>\n  import(\"./views/Register-page/RegisterPage.js\")\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.onGetCurrentUser();\n  }\n\n  render() {\n    return (\n      <div>\n        <AppBar />\n        <Suspense fallback={<Loading />}>\n          <Switch>\n            <PublicRoute exact path=\"/\" component={HomePage} />\n            <PublicRoute\n              path=\"/login\"\n              restricted\n              redirectTo=\"/phonebook\"\n              component={LoginPage}\n            />\n            <PublicRoute\n              path=\"/registration\"\n              restricted\n              redirectTo=\"/phonebook\"\n              component={RegisterPage}\n            />\n            <PrivateRoute\n              path=\"/phonebook\"\n              redirectTo=\"/login\"\n              component={Phonebook}\n            />\n            <Redirect to=\"/\" />\n          </Switch>\n        </Suspense>\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  onGetCurrentUser: authOperations.getCurrentUser,\n};\n\nexport default connect(null, mapDispatchToProps)(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport store from \"./redux/store\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store.store}>\n      <PersistGate loading={null} persistor={store.persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__2Bboa\",\"activeLink\":\"Navigation_activeLink__3QQmm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__2VO9Y\",\"activeLink\":\"AuthNav_activeLink__1S30d\"};","import axios from \"axios\";\r\nimport authActions from \"./auth-actions\";\r\n\r\naxios.defaults.baseURL = \"https://goit-phonebook-api.herokuapp.com\";\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = \"\";\r\n  },\r\n};\r\n\r\nconst registrationUser = (registerData) => async (dispatch) => {\r\n  dispatch(authActions.userRegistrationRequest());\r\n  try {\r\n    const { data } = await axios.post(\"/users/signup\", registerData);\r\n\r\n    token.set(data.token);\r\n    dispatch(authActions.userRegistrationSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.userRegistrationError(error.message));\r\n  }\r\n};\r\n\r\nconst loginUser = (loginData) => async (dispatch) => {\r\n  dispatch(authActions.userLoginRequest());\r\n  try {\r\n    const { data } = await axios.post(\"/users/login\", loginData);\r\n\r\n    token.set(data.token);\r\n\r\n    dispatch(authActions.userLoginSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.userLoginError(error.message));\r\n  }\r\n};\r\n\r\nconst userLogout = () => async (dispatch) => {\r\n  dispatch(authActions.userLogoutRequest());\r\n  try {\r\n    await axios.post(\"/users/logout\");\r\n\r\n    token.unset();\r\n\r\n    dispatch(authActions.userLogoutSuccess());\r\n  } catch (error) {\r\n    dispatch(authActions.userLogoutError(error.message));\r\n  }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const { auth } = getState();\r\n  if (!auth.token) {\r\n    return;\r\n  }\r\n\r\n  token.set(auth.token);\r\n\r\n  dispatch(authActions.currentUserRequest());\r\n  try {\r\n    const { data } = await axios.get(\"/users/current\");\r\n\r\n    dispatch(authActions.currentUserSuccess(data));\r\n  } catch (error) {\r\n    dispatch(authActions.currentUserError(error.message));\r\n  }\r\n};\r\n\r\nconst exportedOperations = {\r\n  registrationUser,\r\n  loginUser,\r\n  userLogout,\r\n  getCurrentUser,\r\n};\r\n\r\nexport default exportedOperations;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__1NHRc\",\"name\":\"UserMenu_name__Ro9fq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Loader_wrapper__DNjue\"};","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nconst userRegistrationRequest = createAction(\"auth/userRegistrationRequest\");\r\nconst userRegistrationSuccess = createAction(\"auth/userRegistrationSuccess\");\r\nconst userRegistrationError = createAction(\"auth/userRegistrationRError\");\r\n\r\nconst userLoginRequest = createAction(\"auth/userLoginRequest\");\r\nconst userLoginSuccess = createAction(\"auth/userLoginSuccess\");\r\nconst userLoginError = createAction(\"auth/userLoginRError\");\r\n\r\nconst userLogoutRequest = createAction(\"auth/userLogoutRequest\");\r\nconst userLogoutSuccess = createAction(\"auth/userLogoutSuccess\");\r\nconst userLogoutError = createAction(\"auth/userLogoutRError\");\r\n\r\nconst currentUserRequest = createAction(\"auth/currentUserRequest\");\r\nconst currentUserSuccess = createAction(\"auth/currentUserSuccess\");\r\nconst currentUserError = createAction(\"auth/currentUserError\");\r\n\r\nconst exportedActions = {\r\n  userRegistrationRequest,\r\n  userRegistrationSuccess,\r\n  userRegistrationError,\r\n  userLoginRequest,\r\n  userLoginSuccess,\r\n  userLoginError,\r\n  userLogoutRequest,\r\n  userLogoutSuccess,\r\n  userLogoutError,\r\n  currentUserRequest,\r\n  currentUserSuccess,\r\n  currentUserError,\r\n};\r\nexport default exportedActions;\r\n","import React from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"./Loader.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nfunction Loading(props) {\r\n  return createPortal(\r\n    <div className={s.wrapper}>\r\n      <div className={s.inner}>\r\n        <Loader type=\"ThreeDots\" color=\"#27dad4\" height={100} width={100} />\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#toast\")\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__1AoXL\"};"],"sourceRoot":""}